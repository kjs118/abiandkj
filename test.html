
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abi & KJ - Show Dates</title>
    <link rel="stylesheet" href="style.css">
      <!-- Favicon -->
<link rel="icon" href="assets/favicon/favicon.ico" type="image/x-icon">
<link rel="icon" href="assets/favicon/favicon-32x32.png" type="image/png" sizes="32x32">
<link rel="apple-touch-icon" href="assets/favicon/apple-touch-icon.png" sizes="180x180">
<!-- Optional: for Android/Chrome high-res -->
<link rel="icon" href="assets/favicon/android-chrome-192x192.png" type="image/png" sizes="192x192">
</head>


<body>
    <header class="sticky-header">
        <div class="header-content">
            
 <!--  <img src="assets/music-notes2.png" class="notes notes-left" alt="">  -->
    <img src="assets/music-notes2.png" class="notes notes-right" alt="">

            <img src="assets/logo.jpg" alt="Abi & KJ Logo" class="logo">
            <nav class="desktop-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="shows.html" class="active">Show Dates</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="booking.html">Booking</a></li>
                </ul>
            </nav>
            <div class="mobile-nav">
                <div class="hamburger" onclick="toggleMenu()">&#9776;</div>
                <nav id="mobile-menu" class="mobile-menu">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="shows.html" class="active">Show Dates</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="booking.html">Booking</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="separator"></div>
        
    </header>


    
    <main>
        <section class="show-dates">
            <h2>Upcoming Shows</h2>
                    <div class="events-container events-list" id="events-list"></div>

                

              
            </div>
        </section>

  <hr class="divider">
                    <!-- Archive Shows -->
       <section id="archive" class="show-dates">
          <h2>Past Shows</h2>
              <div class="events-container">
                 <div class="events-list" id="archive-list"></div>
              </div>
        </section>
    </main>

   <footer>

          <!-- Instagram SVG Icon -->
<a href="https://instagram.com/abiandkj" class="social instagram" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
  <svg width="48" height="48" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm5 5.2A4.8 4.8 0 1112 17a4.8 4.8 0 010-9.8zm0 2A2.8 2.8 0 1012 15a2.8 2.8 0 000-5.6zm4.5-2.9a1.1 1.1 0 110 2.2 1.1 1.1 0 010-2.2z"
          fill="#C78BD8"/>
  </svg>
</a>


        </div>
        <p>&copy; 2026 Abi & KJ. All rights reserved.</p>
    </footer>

<script>
function toggleMenu() {
  document.getElementById('mobile-menu').classList.toggle('open');
}

const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSbzKIO0LgvOTzx__3TsTCsiTtsz-vVf8hpfAbs7KE9Axta4q7_1EydkgKDcPLWj_4KPZNTMBd-uD0U/pub?output=csv";

document.addEventListener('DOMContentLoaded', function() {

  fetch(sheetURL)
    .then(res => res.text())
    .then(data => {

      const container = document.getElementById("events-list");
      const archiveList = document.getElementById("archive-list");
      const archiveSection = document.getElementById("archive");

      const rows = data.split("\n").slice(1);
      const today = new Date();
      today.setHours(0,0,0,0);

      const pastEvents = [];
      const upcomingEvents = [];

     rows.forEach(row => {
const cols = row.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g);
         const clean = v => v.replace(/^"|"$/g, '').trim();

  if (cols.length < 7) return;

const date   = clean(cols[0]);
const venue  = clean(cols[1]);
const street = clean(cols[3]);
const city   = clean(cols[4]);
const state  = clean(cols[5]);
const zip    = clean(cols[6]);

        const event = document.createElement("div");
        event.className = "event-item";
      event.innerHTML = `
  <div class="event-date">${date}</div>
  <div class="event-venue">${venue}</div>
  <div class="event-address">
    ${street}<br>
    ${city}, ${state} ${zip}
  </div>
`;

        const parts = date.split('/');
        let m = parseInt(parts[0]), d = parseInt(parts[1]), y = parseInt(parts[2]);
        if (y < 100) y += 2000;
        const eventDate = new Date(y, m-1, d);

        if (eventDate < today) {
          pastEvents.push({el: event, date: eventDate});
        } else {
          upcomingEvents.push({el: event, date: eventDate});
        }
      });

      upcomingEvents.sort((a,b) => a.date - b.date);
      pastEvents.sort((a,b) => b.date - a.date);

      upcomingEvents.forEach(e => container.appendChild(e.el));
      pastEvents.forEach(e => archiveList.appendChild(e.el));

      if (pastEvents.length > 0) archiveSection.style.display = 'block';
    })
    .catch(err => console.error("Sheet load error:", err));
});
</script>

</body>
</html>
